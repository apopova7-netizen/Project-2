//
// Created by Lenovo on 22.01.2026.
//
#include <stdio.h>
#include <stdlib.h>

void PrintPermutation(int perm[], int n) {
    for (int i = n -1; i >= 0; i--)
        printf("%d", perm[i]);
    puts("");
}

int NextInversionTable(int inv[], int n) {

    for (int i = n - 1; i >= 0; i--)
        if (inv[i] < n - 1 - i) {
            inv[i]++;
            for (int j = i + 1; j < n; j++)
                inv[j] = 0;
            return 1;
        }


    return 0;
}

//void PermutationFromInversionTable(int inv_table[], int n, int arr[],int result[]) {
// TODO: Алгоритм построения перестановки по таблице инверсий
// TODO: Использовать структуры данных для эффективной вставки
// TODO: Проверка корректности таблицы инверсий


//void PermutationsInversionTable(int arr[], int n,
//void (*callback)(int perm[], int n)) {
// TODO: Генерация вс ех возможных таблиц инверсий
// TODO: Для каждой таблицы - построение перестановки
// TODO: Вызов callback() с результатом
// TODO: Сортировка исходного массива для согласованности


int main() {
    int n = 4;
    int inv[]={0,0,0,0};
    PrintPermutation(inv, n);
    while (NextInversionTable(inv, n))
        PrintPermutation(inv, n);
}


